var t=new class{constructor(){this.pristineSvg='\n  <line class="bar" x1="20" y1="20" x2="20" y2="80" />\n  <line class="line" x1="20" y1="20" x2="780" y2="20" />\n  <line class="line" x1="20" y1="35" x2="780" y2="35" />\n  <line class="line" x1="20" y1="50" x2="780" y2="50" />\n  <line class="line" x1="20" y1="65" x2="780" y2="65" />\n  <line class="line" x1="20" y1="80" x2="780" y2="80" />\n  <line class="bar" x1="780" y1="20" x2="780" y2="80" /> \n  ',this.vp=document.getElementById("viewport"),this.vpDiv=document.getElementById("viewportContainer"),this.fretbusyDiv=document.getElementsByClassName("fretbusy"),this.topMargin=20,this.lineSpace=15,this.aantalSnaren=5,this.aantalFrets=22,this.keyMilliseconds=300,this.acceptedFretKeys=["0","1","2","3","4","5","6","7","8","9"],this.lastKeyPressed=Date.now(),this.lastKey="",this.keyBusy=!1,this.t=!1,this.svgTop=this.vpDiv.offsetTop,document.addEventListener("click",(t=>{this.activeLineIndex=Math.round((t.pageY-(this.svgTop+this.topMargin))/this.lineSpace),this.activateLine()})),document.addEventListener("keyup",(t=>{this.handleKeyUp(t)})),this.clear()}clear(){this.vp.innerHTML=this.pristineSvg,this.grabElements()}grabElements(){this.lines=document.getElementsByClassName("line")}activateLine(){if(this.lines){for(var t=0;t<this.lines.length;t++)this.lines[t].classList.contains("activeline")&&this.lines[t].classList.toggle("activeline");this.activeLineIndex>=0&&this.activeLineIndex<this.aantalSnaren&&this.lines[this.activeLineIndex].classList.toggle("activeline")}}handleKeyUp(t){if(this.fretBusy=!0,this.activeLineIndex>=0&&this.activeLineIndex<this.aantalSnaren)switch(t.key){case"ArrowUp":return this.activeLineIndex=Math.max(0,this.activeLineIndex-1),void this.activateLine();case"ArrowDown":return this.activeLineIndex=Math.min(this.aantalSnaren-1,this.activeLineIndex+1),void this.activateLine();case this.acceptedFretKeys[t.key]:return Date.now()>=this.lastKeyPressed+this.keyMilliseconds?(this.keyBusy=!1,this.lastKey=t.key):(this.keyBusy=!0,this.lastKey+=t.key),this.lastKeyPressed=Date.now(),void setTimeout((()=>{this.keyBusy||this.maakNoot(this.lastKey),this.fretBusy=!1,this.keyBusy=!1}),this.keyMilliseconds);default:return}}get fretBusy(){return this.t}set fretBusy(t){this.t=t;for(var i=0;i<this.fretbusyDiv.length;i++)this.t?(this.fretbusyDiv[i].classList.remove("not-visible"),this.fretbusyDiv[i].classList.add("visible")):(this.fretbusyDiv[i].classList.remove("visible"),this.fretbusyDiv[i].classList.add("not-visible"))}maakNoot(t){var i=parseInt(t);i>this.aantalFrets||console.log(`ik maak de noot ${i}`)}};document.getElementById("btnClear").addEventListener("click",(i=>{t.clear()}));
//# sourceMappingURL=main.esm.js.map
