var i;i=function(){var i=new(function(){function i(){var i=this;this.pristineSvg='\n  <line class="bar" x1="20" y1="20" x2="20" y2="80" />\n  <line class="line" x1="20" y1="20" x2="780" y2="20" />\n  <line class="line" x1="20" y1="35" x2="780" y2="35" />\n  <line class="line" x1="20" y1="50" x2="780" y2="50" />\n  <line class="line" x1="20" y1="65" x2="780" y2="65" />\n  <line class="line" x1="20" y1="80" x2="780" y2="80" />\n  <line class="bar" x1="780" y1="20" x2="780" y2="80" /> \n  ',this.vp=document.getElementById("viewport"),this.vpDiv=document.getElementById("viewportContainer"),this.fretbusyDiv=document.getElementsByClassName("fretbusy"),this.topMargin=20,this.lineSpace=15,this.aantalSnaren=5,this.aantalFrets=22,this.keyMilliseconds=300,this.acceptedFretKeys=["0","1","2","3","4","5","6","7","8","9"],this.lastKeyPressed=Date.now(),this.lastKey="",this.keyBusy=!1,this.i=!1,this.svgTop=this.vpDiv.offsetTop,document.addEventListener("click",(function(t){i.activeLineIndex=Math.round((t.pageY-(i.svgTop+i.topMargin))/i.lineSpace),i.activateLine()})),document.addEventListener("keyup",(function(t){i.handleKeyUp(t)})),this.clear()}var t,s=i.prototype;return s.clear=function(){this.vp.innerHTML=this.pristineSvg,this.grabElements()},s.grabElements=function(){this.lines=document.getElementsByClassName("line")},s.activateLine=function(){if(this.lines){for(var i=0;i<this.lines.length;i++)this.lines[i].classList.contains("activeline")&&this.lines[i].classList.toggle("activeline");this.activeLineIndex>=0&&this.activeLineIndex<this.aantalSnaren&&this.lines[this.activeLineIndex].classList.toggle("activeline")}},s.handleKeyUp=function(i){var t=this;if(this.fretBusy=!0,this.activeLineIndex>=0&&this.activeLineIndex<this.aantalSnaren)switch(i.key){case"ArrowUp":return this.activeLineIndex=Math.max(0,this.activeLineIndex-1),void this.activateLine();case"ArrowDown":return this.activeLineIndex=Math.min(this.aantalSnaren-1,this.activeLineIndex+1),void this.activateLine();case this.acceptedFretKeys[i.key]:return Date.now()>=this.lastKeyPressed+this.keyMilliseconds?(this.keyBusy=!1,this.lastKey=i.key):(this.keyBusy=!0,this.lastKey+=i.key),this.lastKeyPressed=Date.now(),void setTimeout((function(){t.keyBusy||t.maakNoot(t.lastKey),t.fretBusy=!1,t.keyBusy=!1}),this.keyMilliseconds);default:return}},s.maakNoot=function(i){var t=parseInt(i);t>this.aantalFrets||console.log("ik maak de noot "+t)},(t=[{key:"fretBusy",get:function(){return this.i},set:function(i){this.i=i;for(var t=0;t<this.fretbusyDiv.length;t++)this.i?(this.fretbusyDiv[t].classList.remove("not-visible"),this.fretbusyDiv[t].classList.add("visible")):(this.fretbusyDiv[t].classList.remove("visible"),this.fretbusyDiv[t].classList.add("not-visible"))}}])&&function(i,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}(i.prototype,t),i}());document.getElementById("btnClear").addEventListener("click",(function(t){i.clear()}))},"function"==typeof define&&define.amd?define(i):i();
//# sourceMappingURL=main.js.map
